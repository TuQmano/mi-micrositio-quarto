<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.521">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Eduardo Levy Yeyati y Soledad Guilera">
<meta name="description" content="DeepSeek: ¿atajo a la soberanía tecnológica o nueva dependencia?">

<title>nadia - DeepSeek: ¿atajo a la soberanía tecnológica o nueva dependencia?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../logo.svg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">nadia</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Buscar"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Navegación de palanca" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../nosotros.html"> 
<span class="menu-text">Nosotros</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../investigacion.html"> 
<span class="menu-text">Investigación</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog.html"> 
<span class="menu-text">Opinión</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/cepe-fundar"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">DeepSeek: ¿atajo a la soberanía tecnológica o nueva dependencia?</h1>
  <div class="quarto-categories">
    <div class="quarto-category">IA</div>
    <div class="quarto-category">Tecnología</div>
    <div class="quarto-category">Políticas Públicas</div>
    <div class="quarto-category">Región</div>
  </div>
  </div>

<div>
  <div class="description">
    DeepSeek: ¿atajo a la soberanía tecnológica o nueva dependencia?
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autor/a</div>
    <div class="quarto-title-meta-contents">
             <p>Eduardo Levy Yeyati y Soledad Guilera </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Fecha de publicación</div>
    <div class="quarto-title-meta-contents">
      <p class="date">15 de diciembre de 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="blog-layout">
<div class="blog-content">
<p>Eduardo Levy Yeyati, director acadmico del Cepe, y Soledad Guilera, profesora de la Escuela de Gobierno, escribieron sobre las oportunidades y los desafos que plantea DeepSeek, la nueva Inteligencia Artificial de origen chino. Para la Argentina –y para Amrica Latina y el mundo en desarrollo–, DeepSeek podra ser el inicio de la independencia digital o la puerta de entrada a una nueva dependencia. <strong>Atajo a la soberana tecnolgica…?</strong> Mientras que OpenAI y Google requieren computadoras de ltima generacin, DeepSeek funciona en hardware ms accesible.Para Amrica Latina, esto significa acceso a IA avanzada sin la necesidad de invertir fortunas en infraestructura. Si gobiernos y empresas juegan bien sus cartas, DeepSeek podra impulsar soluciones locales sin quedar atrapados en la dependencia de Silicon Valley o Pekn. Ms all del acceso, DeepSeek rompe con la idea de que la IA es un juego del tipo “ganador lleva todo”. Si cumple lo que promete, podra descentralizar el desarrollo tecnolgico y permitir que los pases en desarrollo definan su propio futuro digital. Lo que podra dar lugar a un ecosistema IA ms dinmico y competitivo, a diferencia de uno en el que la capacidad tecnolgica se concentre en unos pocos monopolios. Pensemos en un agricultor que predice sequas sin depender de Google. Imaginemos un hospital que diagnostica enfermedades sin enviar datos a Silicon Valley. Si la Argentina adopta DeepSeek estratgicamente, podra generar innovaciones propias sin quedar a merced de los gigantes tecnolgicos. La capacidad de DeepSeek para procesar idiomas como espaol y portugus puede fortalecer los ecosistemas de IA en la regin, reduciendo la dependencia de modelos entrenados en ingls. Adems, su eficiencia en hardware de gama media desafa la nocin de que solo pases con energa barata y abundante pueden construir ecosistemas de IA competitivos. En este escenario, Mxico, Colombia o Chile podran posicionarse como centros de innovacin en IA sin depender de clsteres de GPU costosos. Amrica Latina ya cuenta con iniciativas en IA que pueden beneficiarse de este avance. En Brasil, Fiocruz desarrolla soluciones de IA para la agricultura de precisin. En la Argentina, el sistema Prometea agiliza los procesos judiciales. En Chile, la estatal Codelco podra reducir costos operativos y el impacto ambiental en la minera con modelos ms accesibles de IA. En Colombia,<em>startups</em>como Quipu estn promoviendo la inclusin financiera a travs de modelos de crdito alternativos. El creciente inters regional en IA se refleja en la reciente iniciativa de Chile: Latam GPT, un modelo de lenguaje abierto que se lanzar este ao. Este movimiento posiciona al pas como un creador de tecnologa y no solo como un consumidor, desafiando el dominio de las grandes potencias de la IA. DeepSeek no es solo un avance tecnolgico; es tambin una herramienta geopoltica. Un gambito de<em>open source</em>para economas de recursos limitados, un plan de fidelizacin. Respaldado por el Estado chino, DeepSeek es parte de una estrategia para ganar influencia en los pases en desarrollo. No es solo software, es diplomacia digital. Mientras Estados Unidos apuesta por modelos ms potentes, China usa la IA como una va para fortalecer sus lazos estratgicos en mercados estratgicos. Para la Argentina y la regin, esto implica tanto una oportunidad como un riesgo. La dependencia histrica de tecnologas occidentales podra simplemente transformarse en una nueva forma de dependencia tecnolgica si DeepSeek se convierte en la nica alternativa accesible. La leccin es clara: en lugar de quedar atrapados entre Silicon Valley y Pekn, los pases latinoamericanos deben usar esta competencia a su favor, negociando mejores acuerdos de transferencia tecnolgica y diversificando sus asociaciones en IA. La dependencia de un nico proveedor siempre es peligrosa. As como Estados Unidos impuso sanciones en semiconductores para frenar la IA china, la Argentina podra enfrentar restricciones similares si su infraestructura digital queda atrapada en un solo bloque de poder. Para evitar cambiar una dependencia por otra, los gobiernos latinoamericanos deben exigir transparencia en las alianzas de IA, garantizar la capacidad local para entrenar modelos y diversificar sus colaboraciones tecnolgicas. La inversin en IA no es opcional: es una condicin para la competitividad. Sin ella, las<em>startups</em>de la regin tendrn dificultades para escalar, dejando el futuro de la IA en manos de empresas extranjeras.Sin inversin, la regin seguir exportando cerebros e importando innovacin. Amrica Latina cuenta con centros de investigacin en IA de talla mundial, como el CPQD en Brasil, el Cenia de Chile, o nuestro Conicet. Sin embargo, sin inversin sostenida en educacin y en incentivos a la innovacin local, sus mejores talentos seguirn migrando hacia las grandes tecnolgicas extranjeras en lugar de desarrollar soluciones propias. Algunos pases han dado pasos iniciales. En Uruguay, el Plan Ceibal ha promovido la educacin digital, mientras que en Colombia existen<em>bootcamps</em>de IA respaldados por el gobierno.Pero se necesita ms. Nuestros gobiernos deben, entre otras asignaturas pendientes, expandir la formacin en IA desde niveles bsicos hasta avanzados, financiar colaboraciones entre universidades y<em>startups</em>, fomentar el emprendimiento en IA para evitar la fuga de talentos e impulsar regulaciones que equilibren la innovacin con la soberana digital. Alianzas regionales como Mercosur, Celac y la Alianza del Pacfico pueden jugar un rol clave en la negociacin de acceso equitativo a la IA y en la creacin de regulaciones de soberana de datos. Una estrategia fragmentada solo hara a la regin ms vulnerable a las condiciones impuestas por las superpotencias tecnolgicas. La Argentina tiene la oportunidad de definir su futuro digital, pero solo si acta con determinacin. Sin un plan claro y una accin decidida, el pas corre el riesgo de seguir siendo solo un consumidor de IA en un juego donde otros tienen el control. La inversin en educacin, investigacin e innovacin, o las alianzas regionales para armonizar regulaciones y agregar recursos escasos, no son una opcin; son una necesidad cada vez ms urgente.De lo contrario, la tecnologa no har ms que ampliar la brecha de desarrollo. La pregunta no es si la IA transformar a la Argentina, sino quin definir su futuro cuando lo haga.</p>
<p>Capacitacin sobre adopcin de inteligencia artificial en empresas Despus de la COP30: las promesas se traducen en acciones? Charla sobre los resultados de la Conferencia de las Partes de Cambio Climtico</p>
<p>Debate sobre el impacto de la IA en la democracia Est disponible la nueva publicacin trimestral</p>
<p>Innovacin vs Regulacin: el dilema de la Inteligencia Artificial ltimo encuentro del ciclo de charlas de Inteligencia Artificial y Polticas Pblicas Transformacin digital e inclusin financiera juvenil: hallazgos clave del estudio de CEPE Di Tella Presentacin de los resultados de la investigacin Una dcada de economa del comportamiento en Latinoamrica Est disponible la nueva publicacin del ndice de Conflictividad Laboral</p>
<p>Inteligencia artificial y escolarizacin: ruptura o continuidad?</p>
<p>Est disponible la publicacin de junio del ndice de Conflictividad Laboral Presentacin de Juan Cruz Loureiro en Tech4Impact 2024 Qu es la inteligencia artificial? Avances de un fenmeno que lleg para quedarse</p>
<p>La atencin de Gobierno en la era digital: El caso Boti en la Ciudad de Buenos Aires Sali la publicacin de marzo del ndice de Conflictividad Laboral Nueva Publicacin: Complejidad y polticas pblicas: una agenda de presente y futuro Este documento recopila los temas tratados durante la 6.a Sali la publicacin de diciembre del ndice de Conflictividad Laboral</p>
<p>Presentacin del informe coescrito con la RREI Presentacin del informe “Desigualdades heredadas” Discusin sobre el reporte publicado por RED CAF 2022</p>
<p>El 24 de agosto se realiz la 6. Se present el Documento de Polticas Pblicas de Beatriz Toribio junto a un panel de expertos. Presentacin del libro “La transicin energtica en la visin de sus protagonistas” Conversacin sobre el libro publicado por el Instituto Torcuato Di Tella Sali la publicacin de abril del ndice de Conflictividad Laboral</p>
<p>Nueva publicacin: Energa, cambio climtico y crecimiento Este documento recopila los temas tratados durante la 5.a Presentacin de investigacin: Los adolescentes y las finanzas Investigacin sobre conocimientos y hbitos en Argentina</p>
<p>Se presentaron los resultados obtenidos en la Ciudad de Buenos Aires y en Mendoza, propiciando un espacio para la reflexin acerca del sostenimiento y escalabilidad de esta iniciativa Presentacin de Actualizacin de Indicadores de Emisiones Energticas en Argentina Se presentaron los resultados actualizados a junio de 2022 del proyecto desarrollado en conjunto con la Fundacin Torcuato Di Tella.</p>
<p>Gastn Gertner, director ejecutivo del CEPE, habl en el evento organizado en el Congreso</p>
<p>El 25 de agosto se realiz la 5. Conversamos con Gastn, quien a comienzos de noviembre asumi como Director Ejecutivo del CEPE. A pocos das de terminar el ao, nos gustara compartir con ustedes algunos de los hechos ms destacados.</p>
<p>Qu aprendimos del proceso de participacin de la sociedad civil en educacin</p>
<p>Qu aprendieron sobre educacin las empresas tecnolgicas?</p>
<p>Ms de 25 oradores debatieron sobre educacin en la IV</p>
<p>Qu hacer con los estudiantes excluidos en la pandemia? Expusieron funcionarios de la regin</p>
<p>El director acadmico del CEPE cre una encuesta para estudiar las dimensiones socioeconmicas detrs del debate sobre la presencialidad escolar en pandemia.</p>
<p>Fue reconocido por el Global Go To Think Tank Index Report del 2020. Una seleccin de los contenidos que lograron mayor repercusin durante el ao pasado.</p>
<p>A pocos das de terminar el 2020, nuestro balance de fin de ao.</p>
<p>Se inaugur el 2 ciclo de charlas Pensando la pospandemia</p>
<p>[ / <a href="https://goo.gl/maps/VrVvK">Av. Figueroa Alcorta 7350 (C1428BCW)</a> Senz Valiente 1010 (C1428BIJ) Ciudad de Buenos Aires, Argentina <a href="../listado_contenidos.php?id_item_menu=161">Cmo llegar?</a> / <a href="../politicas-privacidad">Polticas de privacidad</a> Adems, en alianza con la Formacin Ejecutiva en Polticas Pblicas de la Escuela de Gobierno ofrecemos los siguientes cursos:</p>
<p>**</p>
<div class="blog-source-link">
<p>Publicado originalmente en <a href="https://www.utdt.edu/nota_prensa.php?id_nota_prensa=22601&amp;id_item_menu=25279">La Nación</a></p>
</div>
</div>
<div class="blog-sidebar">
<div id="blog-filters" class="blog-filters">
<p><button class="blog-filter-btn active" data-category="all">Todas</button> <button class="blog-filter-btn" data-category="IA">IA</button> <button class="blog-filter-btn" data-category="Políticas Públicas">Políticas Públicas</button> <button class="blog-filter-btn" data-category="Regulación">Regulación</button> <button class="blog-filter-btn" data-category="Tecnología">Tecnología</button> <button class="blog-filter-btn" data-category="Educación">Educación</button> <button class="blog-filter-btn" data-category="Política">Política</button> <button class="blog-filter-btn" data-category="Deepfakes">Deepfakes</button> <button class="blog-filter-btn" data-category="Democracia">Democracia</button> <button class="blog-filter-btn" data-category="Innovación">Innovación</button> <button class="blog-filter-btn" data-category="Región">Región</button></p>
</div>
</div>
</div>
<script>
// Filtros por categoría - redirige al blog con el filtro
document.addEventListener('DOMContentLoaded', function() {
  const filterButtons = document.querySelectorAll('.blog-filter-btn');
  
  filterButtons.forEach(button => {
    button.addEventListener('click', function() {
      const category = this.getAttribute('data-category');
      window.location.href = '../blog.html?categoria=' + encodeURIComponent(category);
    });
  });
  
  // Hacer las categorías clickeables
  const categoryElements = document.querySelectorAll('.quarto-category');
  categoryElements.forEach(cat => {
    cat.style.cursor = 'pointer';
    cat.style.textDecoration = 'underline';
    cat.addEventListener('click', function() {
      const category = this.textContent.trim();
      window.location.href = '../blog.html?categoria=' + encodeURIComponent(category);
    });
  });
});
</script>
<script>
// Traducir Author y Published al español
document.addEventListener('DOMContentLoaded', function() {
  const headings = document.querySelectorAll('.quarto-title-meta-heading');
  headings.forEach(heading => {
    if (heading.textContent.trim() === 'Author') {
      heading.textContent = 'Autor';
    } else if (heading.textContent.trim() === 'Published') {
      heading.textContent = 'Publicado';
    }
  });
});
</script>
<footer class="site-footer">
<img src="../logos_combinados.png" alt="CEPE y Fundar" width="400">
</footer>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    const typesetMath = (el) => {
      if (window.MathJax) {
        // MathJax Typeset
        window.MathJax.typeset([el]);
      } else if (window.katex) {
        // KaTeX Render
        var mathElements = el.getElementsByClassName("math");
        var macros = [];
        for (var i = 0; i < mathElements.length; i++) {
          var texText = mathElements[i].firstChild;
          if (mathElements[i].tagName == "SPAN") {
            window.katex.render(texText.data, mathElements[i], {
              displayMode: mathElements[i].classList.contains('display'),
              throwOnError: false,
              macros: macros,
              fleqn: false
            });
          }
        }
      }
    }
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        typesetMath(container);
        return container.innerHTML
      } else {
        typesetMath(note);
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      typesetMath(note);
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>